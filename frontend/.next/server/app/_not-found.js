(()=>{var e={};e.id=165,e.ids=[165],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1318:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c});var o=r(482),n=r(9108),a=r(2563),s=r.n(a),i=r(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,8982)),"/Users/albertocovarrubiasamezcua/ia/agent-rh/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],u=[],d="/_not-found",m={require:r,loadChunk:()=>Promise.resolve()},h=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9127:(e,t,r)=>{Promise.resolve().then(r.bind(r,7296))},3296:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},7296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>u,useAuth:()=>d});var o=r(5344),n=r(3729),a=r(2254);let s=(0,n.createContext)(void 0),i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",l="agente-rh-token",c="agente-rh-user";function u({children:e}){let[t,r]=(0,n.useState)(null),[u,d]=(0,n.useState)(null),[m,h]=(0,n.useState)(!0),p=(0,a.useRouter)();(0,n.useEffect)(()=>{let e=localStorage.getItem(l),t=localStorage.getItem(c);if(e&&t)try{d(e),r(JSON.parse(t))}catch(e){console.error("Error parsing stored user:",e),localStorage.removeItem(l),localStorage.removeItem(c)}h(!1)},[]);let g=async(e,t)=>{try{let o;let n=new AbortController,a=setTimeout(()=>{n.abort()},3e4);try{o=await fetch(`${i}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t}),signal:n.signal}),clearTimeout(a)}catch(e){if(clearTimeout(a),"AbortError"===e.name)throw Error("La petici\xf3n tard\xf3 demasiado. El servidor puede estar lento o no disponible.");if(e.message?.includes("Failed to fetch")||e.message?.includes("NetworkError"))throw Error("No se pudo conectar con el servidor. Verifica que el backend est\xe9 funcionando.");throw e}if(!o.ok){let e="Error al iniciar sesi\xf3n";try{e=(await o.json()).detail||e}catch{e=`Error ${o.status}: ${o.statusText}`}throw Error(e)}let s=await o.json();localStorage.setItem(l,s.access_token),localStorage.setItem(c,JSON.stringify(s.user)),document.cookie=`agente-rh-token=${s.access_token}; path=/; max-age=28800; SameSite=Lax`,d(s.access_token),r(s.user),await new Promise(e=>setTimeout(e,100)),window.location.href="/"}catch(e){throw console.error("Login error:",e),e}};return o.jsx(s.Provider,{value:{user:t,token:u,login:g,logout:()=>{localStorage.removeItem(l),localStorage.removeItem(c),document.cookie="agente-rh-token=; path=/; max-age=0",d(null),r(null),p.push("/login")},isLoading:m,isAuthenticated:!!u&&!!t},children:e})}function d(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var o=r(5036);r(7272);var n=r(6843);let a=(0,n.createProxy)(String.raw`/Users/albertocovarrubiasamezcua/ia/agent-rh/frontend/contexts/AuthContext.tsx`),{__esModule:s,$$typeof:i}=a;a.default;let l=(0,n.createProxy)(String.raw`/Users/albertocovarrubiasamezcua/ia/agent-rh/frontend/contexts/AuthContext.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/Users/albertocovarrubiasamezcua/ia/agent-rh/frontend/contexts/AuthContext.tsx#useAuth`);let c={title:"agente-rh",description:"Asistente \xe9tico para la preselecci\xf3n de candidatos de nivel medio"};function u({children:e}){return o.jsx("html",{lang:"es",children:o.jsx("body",{className:"bg-slate-50 text-slate-800 min-h-screen",children:o.jsx(l,{children:e})})})}},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[877],()=>r(1318));module.exports=o})();